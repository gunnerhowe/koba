# Koba/VACP Environment Configuration
# Copy this file to .env and fill in your values
#
# Quick Start:
#   1. Copy this file: cp .env.example .env
#   2. Generate a JWT secret: python -c "import secrets; print(secrets.token_hex(32))"
#   3. Update JWT_SECRET below with your generated secret
#   4. For development, that's it! Other settings have safe defaults.
#
# For production, you MUST:
#   - Set ENVIRONMENT=production
#   - Use PostgreSQL (not SQLite)
#   - Set a strong JWT_SECRET (32+ chars)
#   - Configure CORS_ORIGINS to your actual domains

# =============================================================================
# Database
# =============================================================================
# PostgreSQL (REQUIRED for production)
# DATABASE_URL=postgresql://user:password@localhost:5432/koba

# SQLite (development only - DO NOT use in production)
DATABASE_URL=sqlite:///./koba.db

# =============================================================================
# Security (CRITICAL)
# =============================================================================
# JWT secret - MUST be at least 32 characters
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
# WARNING: If not set in production, server will refuse to start
JWT_SECRET=

# Path to Ed25519 signing key (auto-generated if not exists)
# SIGNING_KEY_PATH=./keys/signing_key.pem

# =============================================================================
# Blockchain Anchoring (Pro feature - disabled by default)
# =============================================================================
# Anchoring is a Pro feature that publishes audit proofs to a public blockchain.
# Free tier uses local Merkle tree + signed receipts (already tamper-evident).
# To enable, set ANCHOR_ENABLED=true and configure a blockchain backend below.
ANCHOR_ENABLED=false

# Hedera Consensus Service (optional Pro backend)
# Get credentials from https://portal.hedera.com
# HEDERA_OPERATOR_ID=<your-account-id>
# HEDERA_OPERATOR_KEY=<your-private-key>
# HEDERA_TOPIC_ID=<your-topic-id>
# HEDERA_NETWORK=testnet
HEDERA_SIMULATE=true

# How often to anchor (in minutes) - only applies if ANCHOR_ENABLED=true
ANCHOR_INTERVAL_MINUTES=60
ANCHOR_MIN_RECEIPTS=100

# =============================================================================
# Server Configuration
# =============================================================================
# Environment: development, staging, production
ENVIRONMENT=development

# Logging level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=DEBUG

# CORS allowed origins (comma-separated, or * for all)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# API host and port
API_HOST=0.0.0.0
API_PORT=8000

# =============================================================================
# Rate Limiting
# =============================================================================
# Requests per minute for authenticated users
RATE_LIMIT_AUTHENTICATED=100

# Requests per minute for unauthenticated users
RATE_LIMIT_ANONYMOUS=20

# =============================================================================
# Multi-Party Kill Switch
# =============================================================================
# Number of votes required to activate kill switch
KILL_SWITCH_REQUIRED_VOTES=2

# =============================================================================
# Session Configuration
# =============================================================================
# Access token expiration (seconds)
ACCESS_TOKEN_EXPIRE_SECONDS=3600

# Refresh token expiration (seconds)
REFRESH_TOKEN_EXPIRE_SECONDS=604800
